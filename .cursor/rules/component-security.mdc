# Безопасность компонентов

## Проверки доступа

- Используйте `useUser()` из Clerk для проверки аутентификации
- Проверяйте права доступа перед рендерингом контента
- Скрывайте чувствительные данные для неавторизованных пользователей

## Структура защищенного компонента:

```typescript
import { useUser } from "@clerk/nextjs";

export function ProtectedComponent() {
  const { user, isLoaded } = useUser();

  if (!isLoaded) return <div>Loading...</div>;
  if (!user) return <div>Please sign in</div>;

  // Рендерим защищенный контент только для авторизованных пользователей
  return <div>Protected content for {user.id}</div>;
}
```

## Защищенные маршруты

- Используйте `auth()` в Server Components
- Проверяйте права в layout.tsx для защищенных разделов
- Перенаправляйте неавторизованных пользователей

## Запрещено

- Показывать данные без проверки аутентификации
- Рендерить компоненты с чувствительной информацией для всех
- Доверять client-side состоянию для проверки прав
  description:
  globs:
  alwaysApply: false

---
